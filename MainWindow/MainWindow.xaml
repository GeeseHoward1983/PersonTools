<Window x:Class="MyTool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MyTool"
        mc:Ignorable="d"
        Title="常用工具集" Height="800" Width="1200" AllowDrop="True" Drop="MainWindow_Drop" WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 主内容区域 -->
        <TabControl Grid.Row="1" Margin="5">
            <!-- PE文件分析器标签页 -->
            <TabItem Header="PE文件分析器">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- 菜单栏 -->
                    <Menu Grid.Row="0">
                        <MenuItem Header="文件">
                            <MenuItem Header="打开" Click="OpenFile_Click"/>
                            <Separator/>
                            <MenuItem Header="退出" Click="Exit_Click"/>
                        </MenuItem>
                    </Menu>
                    
                    <!-- PE分析内容 -->
                    <TabControl Grid.Row="1" Margin="5">
                        <!-- 文件信息和图标标签页 -->
                        <TabItem Header="文件信息">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" MinHeight="300"/>
                                    <RowDefinition Height="200" MinHeight="150"/>
                                </Grid.RowDefinitions>
                                
                                <!-- 上方：PE头基本信息和附加信息 -->
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" MinWidth="300"/>
                                        <ColumnDefinition Width="*" MinWidth="300"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- 左侧：PE头基本信息 -->
                                    <GroupBox Grid.Column="0" Header="PE头信息" Margin="5">
                                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                                            <StackPanel Name="HeaderInfoPanel" Margin="5"/>
                                        </ScrollViewer>
                                    </GroupBox>
                                    
                                    <!-- 右侧：附加信息 -->
                                    <GroupBox Grid.Column="1" Header="附加信息" Margin="5">
                                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                                            <StackPanel Name="AdditionalInfoPanel" Margin="5"/>
                                        </ScrollViewer>
                                    </GroupBox>
                                </Grid>
                                
                                <!-- 下方：图标信息 -->
                                <GroupBox Grid.Row="1" Header="图标信息" Margin="5">
                                    <DataGrid Name="IconsDataGrid" AutoGenerateColumns="False" IsReadOnly="True" HeadersVisibility="Column">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn Header="图标" Width="80">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding ImageSource}" Width="64" Height="64" Stretch="Uniform"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTextColumn Header="宽度" Binding="{Binding Width}" Width="80"/>
                                            <DataGridTextColumn Header="高度" Binding="{Binding Height}" Width="80"/>
                                            <DataGridTextColumn Header="色深" Binding="{Binding BitsPerPixel}" Width="80"/>
                                            <DataGridTextColumn Header="大小(字节)" Binding="{Binding Size}" Width="*"/>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- 依赖和函数信息标签页 -->
                        <TabItem Header="依赖和函数">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" MinWidth="200"/>
                                    <ColumnDefinition Width="2*" MinWidth="400"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- 左侧：依赖信息 -->
                                <GroupBox Grid.Column="0" Header="动态库依赖" Margin="5">
                                    <TreeView Name="DependencyTree" MouseDoubleClick="DependencyTree_MouseDoubleClick"/>
                                </GroupBox>
                                
                                <!-- 右侧：导入和导出函数 -->
                                <Grid Grid.Column="1">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" MinHeight="200"/>
                                        <RowDefinition Height="*" MinHeight="200"/>
                                    </Grid.RowDefinitions>
                                    
                                    <!-- 右上：导入函数 -->
                                    <GroupBox Grid.Row="0" Header="导入函数列表" Margin="5">
                                        <DataGrid Name="ImportFunctionsGrid" AutoGenerateColumns="False" IsReadOnly="True">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="DLL名称" Binding="{Binding DllName}" Width="150"/>
                                                <DataGridTextColumn Header="函数名称" Binding="{Binding FunctionName}" Width="*"/>
                                                <DataGridTextColumn Header="序号" Binding="{Binding OrdinalDisplay}" Width="120">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="HorizontalAlignment" Value="Right"/>
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                                <DataGridTextColumn Header="导入类型" Binding="{Binding IsOrdinalImport}" Width="80"/>
                                                <DataGridTextColumn Header="延迟加载" Binding="{Binding IsDelayLoaded}" Width="80"/>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </GroupBox>
                                    
                                    <!-- 右下：导出函数 -->
                                    <GroupBox Grid.Row="1" Header="导出函数列表" Margin="5">
                                        <DataGrid Name="ExportFunctionsGrid" AutoGenerateColumns="False" IsReadOnly="True">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="函数名称" Binding="{Binding Name}" Width="*"/>
                                                <DataGridTextColumn Header="序号" Binding="{Binding OrdinalDisplay}" Width="120">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="HorizontalAlignment" Value="Right"/>
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                                <DataGridTextColumn Header="RVA" Binding="{Binding RVA, StringFormat=0x\{0:X8\}}" Width="100"/>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </GroupBox>
                                </Grid>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>
            
            <!-- ELF文件分析器标签页 -->
            <TabItem Header="ELF文件分析器">
                <Grid>
                    <TextBlock Text="ELF文件分析器功能待实现" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16"/>
                </Grid>
            </TabItem>
            
            <!-- Mach-O文件分析器标签页 -->
            <TabItem Header="Mach-O文件分析器">
                <Grid>
                    <TextBlock Text="Mach-O文件分析器功能待实现" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16"/>
                </Grid>
            </TabItem>
            
            <!-- 常用错误码对应错误信息查看器标签页 -->
            <TabItem Header="常用错误码对应错误信息查看器">
                <Grid>
                    <TabControl Margin="5">
                        <!-- Windows errno查询 -->
                        <TabItem Header="Windows errno">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="WindowsErrnoInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="WindowsErrnoQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="WindowsErrnoResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- Linux errno查询 -->
                        <TabItem Header="Linux errno">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="LinuxErrnoInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="LinuxErrnoQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="LinuxErrnoResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- Mac errno查询 -->
                        <TabItem Header="Mac errno">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="MacErrnoInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="MacErrnoQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="MacErrnoResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- HTTP状态码查询 -->
                        <TabItem Header="HTTP状态码">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="HttpStatusCodeInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="HttpStatusCodeQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="状态信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="HttpStatusCodeResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- SQL Server错误码查询 -->
                        <TabItem Header="SQL Server">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="SqlServerErrorInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="SqlServerErrorQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="SqlServerErrorResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- MySQL错误码查询 -->
                        <TabItem Header="MySQL">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="MySqlErrorInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="MySqlErrorQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="MySqlErrorResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- Oracle SQLCODE查询 -->
                        <TabItem Header="Oracle">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="OracleSqlCodeInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="OracleSqlCodeQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="OracleSqlCodeResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- ODBC错误码查询 -->
                        <TabItem Header="ODBC">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="OdbcErrorInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="OdbcErrorQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="OdbcErrorResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        
                        <!-- Windows系统错误码查询 -->
                        <TabItem Header="Windows系统错误码">
                            <Grid Margin="10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBox Name="WindowsSystemErrorInput" Width="100" Margin="0,0,10,0" VerticalContentAlignment="Center"/>
                                    <Button Content="查询" Click="WindowsSystemErrorQuery_Click" Padding="10,0"/>
                                </StackPanel>
                                
                                <GroupBox Grid.Row="1" Header="错误信息" Padding="10">
                                    <ScrollViewer>
                                        <TextBlock Name="WindowsSystemErrorResult" TextWrapping="Wrap" />
                                    </ScrollViewer>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>
            
            <!-- 常用编解码/加解密转换器标签页 -->
            <TabItem Header="常用编解码/加解密转换器">
                <Grid>
                    <TextBlock Text="常用编解码/加解密转换器功能待实现" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>